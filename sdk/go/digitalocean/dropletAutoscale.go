// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package digitalocean

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-digitalocean/sdk/v4/go/digitalocean/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a DigitalOcean Droplet Autoscale resource. This can be used to create, modify,
// read and delete Droplet Autoscale pools.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-digitalocean/sdk/v4/go/digitalocean"
//	"github.com/pulumi/pulumi-std/sdk/go/std"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			invokeFile, err := std.File(ctx, &std.FileArgs{
//				Input: "/Users/terraform/.ssh/id_rsa.pub",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = digitalocean.NewSshKey(ctx, "my-ssh-key", &digitalocean.SshKeyArgs{
//				Name:      pulumi.String("terraform-example"),
//				PublicKey: pulumi.String(invokeFile.Result),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = digitalocean.NewTag(ctx, "my-tag", &digitalocean.TagArgs{
//				Name: pulumi.String("terraform-example"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = digitalocean.NewDropletAutoscale(ctx, "my-autoscale-pool", &digitalocean.DropletAutoscaleArgs{
//				Name: pulumi.String("terraform-example"),
//				Config: &digitalocean.DropletAutoscaleConfigArgs{
//					MinInstances:            pulumi.Int(10),
//					MaxInstances:            pulumi.Int(50),
//					TargetCpuUtilization:    pulumi.Float64(0.5),
//					TargetMemoryUtilization: pulumi.Float64(0.5),
//					CooldownMinutes:         pulumi.Int(5),
//				},
//				DropletTemplate: &digitalocean.DropletAutoscaleDropletTemplateArgs{
//					Size:   pulumi.String("c-2"),
//					Region: pulumi.String("nyc3"),
//					Image:  pulumi.String("ubuntu-24-04-x64"),
//					Tags: pulumi.StringArray{
//						my_tag.ID(),
//					},
//					SshKeys: pulumi.StringArray{
//						my_ssh_key.ID(),
//					},
//					WithDropletAgent: pulumi.Bool(true),
//					Ipv6:             pulumi.Bool(true),
//					UserData: pulumi.String(`
//
// #cloud-config
// runcmd:
// - apt-get update
// - apt-get install -y stress-ng
// `),
//
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Droplet Autoscale pools can be imported using their `id`, e.g.
//
// ```sh
// $ pulumi import digitalocean:index/dropletAutoscale:DropletAutoscale my-autoscale-pool 38e66834-d741-47ec-88e7-c70cbdcz0445
// ```
type DropletAutoscale struct {
	pulumi.CustomResourceState

	// The configuration parameters for Droplet Autoscale pool, the supported arguments are
	// documented below.
	Config DropletAutoscaleConfigOutput `pulumi:"config"`
	// Created at timestamp for the Droplet Autoscale pool.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// The current average resource utilization of the Droplet Autoscale pool, this attribute further
	// embeds `memory` and `cpu` attributes to respectively report utilization data.
	CurrentUtilizations DropletAutoscaleCurrentUtilizationArrayOutput `pulumi:"currentUtilizations"`
	// The droplet template parameters for Droplet Autoscale pool, the supported arguments
	// are documented below.
	DropletTemplate DropletAutoscaleDropletTemplateOutput `pulumi:"dropletTemplate"`
	// The name of the Droplet Autoscale pool.
	Name pulumi.StringOutput `pulumi:"name"`
	// Droplet Autoscale pool health status; this reflects if the pool is currently healthy and ready to accept
	// traffic, or in an error state and needs user intervention.
	Status pulumi.StringOutput `pulumi:"status"`
	// Updated at timestamp for the Droplet Autoscale pool.
	UpdatedAt pulumi.StringOutput `pulumi:"updatedAt"`
}

// NewDropletAutoscale registers a new resource with the given unique name, arguments, and options.
func NewDropletAutoscale(ctx *pulumi.Context,
	name string, args *DropletAutoscaleArgs, opts ...pulumi.ResourceOption) (*DropletAutoscale, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Config == nil {
		return nil, errors.New("invalid value for required argument 'Config'")
	}
	if args.DropletTemplate == nil {
		return nil, errors.New("invalid value for required argument 'DropletTemplate'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DropletAutoscale
	err := ctx.RegisterResource("digitalocean:index/dropletAutoscale:DropletAutoscale", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDropletAutoscale gets an existing DropletAutoscale resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDropletAutoscale(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DropletAutoscaleState, opts ...pulumi.ResourceOption) (*DropletAutoscale, error) {
	var resource DropletAutoscale
	err := ctx.ReadResource("digitalocean:index/dropletAutoscale:DropletAutoscale", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DropletAutoscale resources.
type dropletAutoscaleState struct {
	// The configuration parameters for Droplet Autoscale pool, the supported arguments are
	// documented below.
	Config *DropletAutoscaleConfig `pulumi:"config"`
	// Created at timestamp for the Droplet Autoscale pool.
	CreatedAt *string `pulumi:"createdAt"`
	// The current average resource utilization of the Droplet Autoscale pool, this attribute further
	// embeds `memory` and `cpu` attributes to respectively report utilization data.
	CurrentUtilizations []DropletAutoscaleCurrentUtilization `pulumi:"currentUtilizations"`
	// The droplet template parameters for Droplet Autoscale pool, the supported arguments
	// are documented below.
	DropletTemplate *DropletAutoscaleDropletTemplate `pulumi:"dropletTemplate"`
	// The name of the Droplet Autoscale pool.
	Name *string `pulumi:"name"`
	// Droplet Autoscale pool health status; this reflects if the pool is currently healthy and ready to accept
	// traffic, or in an error state and needs user intervention.
	Status *string `pulumi:"status"`
	// Updated at timestamp for the Droplet Autoscale pool.
	UpdatedAt *string `pulumi:"updatedAt"`
}

type DropletAutoscaleState struct {
	// The configuration parameters for Droplet Autoscale pool, the supported arguments are
	// documented below.
	Config DropletAutoscaleConfigPtrInput
	// Created at timestamp for the Droplet Autoscale pool.
	CreatedAt pulumi.StringPtrInput
	// The current average resource utilization of the Droplet Autoscale pool, this attribute further
	// embeds `memory` and `cpu` attributes to respectively report utilization data.
	CurrentUtilizations DropletAutoscaleCurrentUtilizationArrayInput
	// The droplet template parameters for Droplet Autoscale pool, the supported arguments
	// are documented below.
	DropletTemplate DropletAutoscaleDropletTemplatePtrInput
	// The name of the Droplet Autoscale pool.
	Name pulumi.StringPtrInput
	// Droplet Autoscale pool health status; this reflects if the pool is currently healthy and ready to accept
	// traffic, or in an error state and needs user intervention.
	Status pulumi.StringPtrInput
	// Updated at timestamp for the Droplet Autoscale pool.
	UpdatedAt pulumi.StringPtrInput
}

func (DropletAutoscaleState) ElementType() reflect.Type {
	return reflect.TypeOf((*dropletAutoscaleState)(nil)).Elem()
}

type dropletAutoscaleArgs struct {
	// The configuration parameters for Droplet Autoscale pool, the supported arguments are
	// documented below.
	Config DropletAutoscaleConfig `pulumi:"config"`
	// The droplet template parameters for Droplet Autoscale pool, the supported arguments
	// are documented below.
	DropletTemplate DropletAutoscaleDropletTemplate `pulumi:"dropletTemplate"`
	// The name of the Droplet Autoscale pool.
	Name *string `pulumi:"name"`
}

// The set of arguments for constructing a DropletAutoscale resource.
type DropletAutoscaleArgs struct {
	// The configuration parameters for Droplet Autoscale pool, the supported arguments are
	// documented below.
	Config DropletAutoscaleConfigInput
	// The droplet template parameters for Droplet Autoscale pool, the supported arguments
	// are documented below.
	DropletTemplate DropletAutoscaleDropletTemplateInput
	// The name of the Droplet Autoscale pool.
	Name pulumi.StringPtrInput
}

func (DropletAutoscaleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*dropletAutoscaleArgs)(nil)).Elem()
}

type DropletAutoscaleInput interface {
	pulumi.Input

	ToDropletAutoscaleOutput() DropletAutoscaleOutput
	ToDropletAutoscaleOutputWithContext(ctx context.Context) DropletAutoscaleOutput
}

func (*DropletAutoscale) ElementType() reflect.Type {
	return reflect.TypeOf((**DropletAutoscale)(nil)).Elem()
}

func (i *DropletAutoscale) ToDropletAutoscaleOutput() DropletAutoscaleOutput {
	return i.ToDropletAutoscaleOutputWithContext(context.Background())
}

func (i *DropletAutoscale) ToDropletAutoscaleOutputWithContext(ctx context.Context) DropletAutoscaleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DropletAutoscaleOutput)
}

// DropletAutoscaleArrayInput is an input type that accepts DropletAutoscaleArray and DropletAutoscaleArrayOutput values.
// You can construct a concrete instance of `DropletAutoscaleArrayInput` via:
//
//	DropletAutoscaleArray{ DropletAutoscaleArgs{...} }
type DropletAutoscaleArrayInput interface {
	pulumi.Input

	ToDropletAutoscaleArrayOutput() DropletAutoscaleArrayOutput
	ToDropletAutoscaleArrayOutputWithContext(context.Context) DropletAutoscaleArrayOutput
}

type DropletAutoscaleArray []DropletAutoscaleInput

func (DropletAutoscaleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DropletAutoscale)(nil)).Elem()
}

func (i DropletAutoscaleArray) ToDropletAutoscaleArrayOutput() DropletAutoscaleArrayOutput {
	return i.ToDropletAutoscaleArrayOutputWithContext(context.Background())
}

func (i DropletAutoscaleArray) ToDropletAutoscaleArrayOutputWithContext(ctx context.Context) DropletAutoscaleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DropletAutoscaleArrayOutput)
}

// DropletAutoscaleMapInput is an input type that accepts DropletAutoscaleMap and DropletAutoscaleMapOutput values.
// You can construct a concrete instance of `DropletAutoscaleMapInput` via:
//
//	DropletAutoscaleMap{ "key": DropletAutoscaleArgs{...} }
type DropletAutoscaleMapInput interface {
	pulumi.Input

	ToDropletAutoscaleMapOutput() DropletAutoscaleMapOutput
	ToDropletAutoscaleMapOutputWithContext(context.Context) DropletAutoscaleMapOutput
}

type DropletAutoscaleMap map[string]DropletAutoscaleInput

func (DropletAutoscaleMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DropletAutoscale)(nil)).Elem()
}

func (i DropletAutoscaleMap) ToDropletAutoscaleMapOutput() DropletAutoscaleMapOutput {
	return i.ToDropletAutoscaleMapOutputWithContext(context.Background())
}

func (i DropletAutoscaleMap) ToDropletAutoscaleMapOutputWithContext(ctx context.Context) DropletAutoscaleMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DropletAutoscaleMapOutput)
}

type DropletAutoscaleOutput struct{ *pulumi.OutputState }

func (DropletAutoscaleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DropletAutoscale)(nil)).Elem()
}

func (o DropletAutoscaleOutput) ToDropletAutoscaleOutput() DropletAutoscaleOutput {
	return o
}

func (o DropletAutoscaleOutput) ToDropletAutoscaleOutputWithContext(ctx context.Context) DropletAutoscaleOutput {
	return o
}

// The configuration parameters for Droplet Autoscale pool, the supported arguments are
// documented below.
func (o DropletAutoscaleOutput) Config() DropletAutoscaleConfigOutput {
	return o.ApplyT(func(v *DropletAutoscale) DropletAutoscaleConfigOutput { return v.Config }).(DropletAutoscaleConfigOutput)
}

// Created at timestamp for the Droplet Autoscale pool.
func (o DropletAutoscaleOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *DropletAutoscale) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// The current average resource utilization of the Droplet Autoscale pool, this attribute further
// embeds `memory` and `cpu` attributes to respectively report utilization data.
func (o DropletAutoscaleOutput) CurrentUtilizations() DropletAutoscaleCurrentUtilizationArrayOutput {
	return o.ApplyT(func(v *DropletAutoscale) DropletAutoscaleCurrentUtilizationArrayOutput { return v.CurrentUtilizations }).(DropletAutoscaleCurrentUtilizationArrayOutput)
}

// The droplet template parameters for Droplet Autoscale pool, the supported arguments
// are documented below.
func (o DropletAutoscaleOutput) DropletTemplate() DropletAutoscaleDropletTemplateOutput {
	return o.ApplyT(func(v *DropletAutoscale) DropletAutoscaleDropletTemplateOutput { return v.DropletTemplate }).(DropletAutoscaleDropletTemplateOutput)
}

// The name of the Droplet Autoscale pool.
func (o DropletAutoscaleOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *DropletAutoscale) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Droplet Autoscale pool health status; this reflects if the pool is currently healthy and ready to accept
// traffic, or in an error state and needs user intervention.
func (o DropletAutoscaleOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *DropletAutoscale) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// Updated at timestamp for the Droplet Autoscale pool.
func (o DropletAutoscaleOutput) UpdatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *DropletAutoscale) pulumi.StringOutput { return v.UpdatedAt }).(pulumi.StringOutput)
}

type DropletAutoscaleArrayOutput struct{ *pulumi.OutputState }

func (DropletAutoscaleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DropletAutoscale)(nil)).Elem()
}

func (o DropletAutoscaleArrayOutput) ToDropletAutoscaleArrayOutput() DropletAutoscaleArrayOutput {
	return o
}

func (o DropletAutoscaleArrayOutput) ToDropletAutoscaleArrayOutputWithContext(ctx context.Context) DropletAutoscaleArrayOutput {
	return o
}

func (o DropletAutoscaleArrayOutput) Index(i pulumi.IntInput) DropletAutoscaleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DropletAutoscale {
		return vs[0].([]*DropletAutoscale)[vs[1].(int)]
	}).(DropletAutoscaleOutput)
}

type DropletAutoscaleMapOutput struct{ *pulumi.OutputState }

func (DropletAutoscaleMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DropletAutoscale)(nil)).Elem()
}

func (o DropletAutoscaleMapOutput) ToDropletAutoscaleMapOutput() DropletAutoscaleMapOutput {
	return o
}

func (o DropletAutoscaleMapOutput) ToDropletAutoscaleMapOutputWithContext(ctx context.Context) DropletAutoscaleMapOutput {
	return o
}

func (o DropletAutoscaleMapOutput) MapIndex(k pulumi.StringInput) DropletAutoscaleOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DropletAutoscale {
		return vs[0].(map[string]*DropletAutoscale)[vs[1].(string)]
	}).(DropletAutoscaleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DropletAutoscaleInput)(nil)).Elem(), &DropletAutoscale{})
	pulumi.RegisterInputType(reflect.TypeOf((*DropletAutoscaleArrayInput)(nil)).Elem(), DropletAutoscaleArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DropletAutoscaleMapInput)(nil)).Elem(), DropletAutoscaleMap{})
	pulumi.RegisterOutputType(DropletAutoscaleOutput{})
	pulumi.RegisterOutputType(DropletAutoscaleArrayOutput{})
	pulumi.RegisterOutputType(DropletAutoscaleMapOutput{})
}
